{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/magdyhafez/personal_projects/calnic-27021/app/api/login/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport fs from 'fs';\nimport path from 'path';\n\nexport async function POST(request) {\n    try {\n        const { username, password } = await request.json();\n\n        const filePath = path.join(process.cwd(), 'data', 'accounts.json');\n        const fileContents = fs.readFileSync(filePath, 'utf8');\n        const data = JSON.parse(fileContents);\n\n        const account = data.accounts.find((acc) => acc.email === username && acc.password === password);\n\n        if (account) {\n            const { password: _, ...accountWithoutPassword } = account;\n\n            return NextResponse.json({\n                success: true,\n                message: 'Login successful',\n                user: accountWithoutPassword\n            });\n        } else {\n            return NextResponse.json(\n                {\n                    success: false,\n                    message: 'Invalid username or password'\n                },\n                { status: 401 }\n            );\n        }\n    } catch (error) {\n        return NextResponse.json(\n            {\n                success: false,\n                message: 'An error occurred during login'\n            },\n            { status: 500 }\n        );\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,OAAO;IAC9B,IAAI;QACA,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEjD,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ;QAClD,MAAM,eAAe,wGAAE,CAAC,YAAY,CAAC,UAAU;QAC/C,MAAM,OAAO,KAAK,KAAK,CAAC;QAExB,MAAM,UAAU,KAAK,QAAQ,CAAC,IAAI,CAAC,CAAC,MAAQ,IAAI,KAAK,KAAK,YAAY,IAAI,QAAQ,KAAK;QAEvF,IAAI,SAAS;YACT,MAAM,EAAE,UAAU,CAAC,EAAE,GAAG,wBAAwB,GAAG;YAEnD,OAAO,oYAAY,CAAC,IAAI,CAAC;gBACrB,SAAS;gBACT,SAAS;gBACT,MAAM;YACV;QACJ,OAAO;YACH,OAAO,oYAAY,CAAC,IAAI,CACpB;gBACI,SAAS;gBACT,SAAS;YACb,GACA;gBAAE,QAAQ;YAAI;QAEtB;IACJ,EAAE,OAAO,OAAO;QACZ,OAAO,oYAAY,CAAC,IAAI,CACpB;YACI,SAAS;YACT,SAAS;QACb,GACA;YAAE,QAAQ;QAAI;IAEtB;AACJ","debugId":null}}]
}